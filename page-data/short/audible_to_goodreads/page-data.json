{"componentChunkName":"component---src-templates-blog-post-js","path":"/short/audible_to_goodreads/","result":{"data":{"site":{"siteMetadata":{"title":"andrewlb"}},"markdownRemark":{"id":"ed022244-f03d-51f7-91fc-642778e9d041","excerpt":"Photo by Mohammad Metri I wrote a rudimentary python script to bulk import your Audible library to Goodreads. I’ll caveat with a statement: this is still pretty…","html":"<p><span\n      class=\"gatsby-resp-image-wrapper\"\n      style=\"position: relative; display: block; margin-left: auto; margin-right: auto;  max-width: 590px;\"\n    >\n      <span\n    class=\"gatsby-resp-image-background-image\"\n    style=\"padding-bottom: 66.75062972292191%; position: relative; bottom: 0; left: 0; background-image: url('data:image/jpeg;base64,/9j/2wBDABALDA4MChAODQ4SERATGCgaGBYWGDEjJR0oOjM9PDkzODdASFxOQERXRTc4UG1RV19iZ2hnPk1xeXBkeFxlZ2P/2wBDARESEhgVGC8aGi9jQjhCY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2NjY2P/wgARCAANABQDASIAAhEBAxEB/8QAGAAAAgMAAAAAAAAAAAAAAAAAAAIBBAX/xAAVAQEBAAAAAAAAAAAAAAAAAAAAAf/aAAwDAQACEAMQAAAByWrkrEB//8QAGBAAAwEBAAAAAAAAAAAAAAAAAAIRARD/2gAIAQEAAQUCVbrKsheU/8QAFREBAQAAAAAAAAAAAAAAAAAAEBH/2gAIAQMBAT8Bp//EABQRAQAAAAAAAAAAAAAAAAAAABD/2gAIAQIBAT8BP//EABcQAAMBAAAAAAAAAAAAAAAAAAAgMSH/2gAIAQEABj8C0pU//8QAGRABAQADAQAAAAAAAAAAAAAAAQARIXFB/9oACAEBAAE/IQ3AgaDPZy8RtLc3/9oADAMBAAIAAwAAABBUL//EABgRAAIDAAAAAAAAAAAAAAAAAAABESEx/9oACAEDAQE/EEkYUf/EABYRAQEBAAAAAAAAAAAAAAAAABEBEP/aAAgBAgEBPxArn//EABoQAAIDAQEAAAAAAAAAAAAAAAERACExQXH/2gAIAQEAAT8QMimTvfIdscRUK6xZCNzyFMAkcqqM/9k='); background-size: cover; display: block;\"\n  ></span>\n  <img\n        class=\"gatsby-resp-image-image\"\n        alt=\"you are what you read\"\n        title=\"you are what you read\"\n        src=\"/static/2f52cf9db28877eae611366411d3e758/88218/you-are-what-you-read.jpg\"\n        srcset=\"/static/2f52cf9db28877eae611366411d3e758/7237a/you-are-what-you-read.jpg 148w,\n/static/2f52cf9db28877eae611366411d3e758/0cfdf/you-are-what-you-read.jpg 295w,\n/static/2f52cf9db28877eae611366411d3e758/88218/you-are-what-you-read.jpg 590w,\n/static/2f52cf9db28877eae611366411d3e758/77d57/you-are-what-you-read.jpg 885w,\n/static/2f52cf9db28877eae611366411d3e758/5a917/you-are-what-you-read.jpg 1180w,\n/static/2f52cf9db28877eae611366411d3e758/0c460/you-are-what-you-read.jpg 5955w\"\n        sizes=\"(max-width: 590px) 100vw, 590px\"\n        style=\"width:100%;height:100%;margin:0;vertical-align:middle;position:absolute;top:0;left:0;\"\n        loading=\"lazy\"\n      />\n    </span>\nPhoto by <a href=\"https://unsplash.com/@mohammadmetri?utm_source=unsplash&#x26;utm_medium=referral&#x26;utm_content=creditCopyText\">Mohammad Metri</a></p>\n<p>I wrote a rudimentary python script to bulk import your Audible library to Goodreads. I’ll caveat with a statement: this is still pretty manual, but it automates the parts that are most time consuming. Overall, it shouldn’t take more than 5min to get your whole audible library into Goodreads. Then maybe just re-run the process every few months.</p>\n<p><a href=\"https://gist.github.com/readywater/b71c11428a151654474cdb673756319e\">You can view the script here</a></p>\n<h2>Get Your Audible Data</h2>\n<p>It procedurally builds off of another script that <a href=\"https://www.themodernnomad.com/audible-statistics-extractor/\">exports your audible library</a> , which is required to get it working. To run this script, <a href=\"https://www.audible.com/lib?purchaseDateFilter=all&#x26;programFilter=all&#x26;sortBy=PURCHASE_DATE.dsc&#x26;pageSize=50\">visit your audible library</a> and run the script on each page by hitting <code class=\"language-text\">command-option J</code> to open your console (in Chrome and most other browsers), and run this script (which is just a minified version of the <a href=\"https://www.static-18.themodernnomad.com/wp-content/uploads/2019/01/Audible-ScreenScraperJanuary2019.txt\">one linked above</a>)</p>\n<p><a href=\"https://gist.githubusercontent.com/readywater/b71c11428a151654474cdb673756319e/raw/02f4e875aa1e55986c6e08a9dffd818bd7d92163/minified_audible_table_generator.js\">Link to script</a></p>\n<p>This will grab your library and turn the page into an html table. You can then easily select all on this table and paste it into google sheets or excel. Make sure to remove the repeated header data, but keep the top line.</p>\n<p>You need to do this <strong>for each page</strong> of the library, so if you have 50+ books, simply go through each. Save the output; you can keep the file in an excel format or export to CSV.</p>\n<h2>Convert the Data into a Goodreads Format</h2>\n<p>From here, you’ll want to run <a href=\"https://gist.github.com/readywater/b71c11428a151654474cdb673756319e\">the python script</a>. Save the file to whatever directly you’ve stored your audible spreadsheet and open your terminal. On Mac, do this by typing <code class=\"language-text\">command space</code> and writing <code class=\"language-text\">terminal</code> in the spotlight search.</p>\n<div class=\"gatsby-highlight\" data-language=\"python\"><pre class=\"language-python\"><code class=\"language-python\"><span class=\"token keyword\">import</span> pandas <span class=\"token keyword\">as</span> pd\n<span class=\"token keyword\">from</span> isbntools<span class=\"token punctuation\">.</span>app <span class=\"token keyword\">import</span> <span class=\"token operator\">*</span>\n\ndf <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>read_excel<span class=\"token punctuation\">(</span><span class=\"token string\">r'/path/to/the/saved/excel.xlsx'</span><span class=\"token punctuation\">)</span>\n\n<span class=\"token comment\"># Fetch ISBN from title and author using isbn tools</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">'isbn'</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x <span class=\"token punctuation\">:</span> isbn_from_words<span class=\"token punctuation\">(</span>x<span class=\"token punctuation\">.</span>Title <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> x<span class=\"token punctuation\">.</span>Author<span class=\"token punctuation\">)</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span> <span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># Convert Dates</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"Buy Date\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> pd<span class=\"token punctuation\">.</span>to_datetime<span class=\"token punctuation\">(</span>df<span class=\"token punctuation\">[</span><span class=\"token string\">\"Buy Date\"</span><span class=\"token punctuation\">]</span><span class=\"token punctuation\">,</span> <span class=\"token builtin\">format</span><span class=\"token operator\">=</span><span class=\"token string\">\"%m-%d-%y\"</span><span class=\"token punctuation\">,</span> exact<span class=\"token operator\">=</span><span class=\"token boolean\">False</span><span class=\"token punctuation\">)</span><span class=\"token punctuation\">.</span>dt<span class=\"token punctuation\">.</span>strftime<span class=\"token punctuation\">(</span><span class=\"token string\">'%Y-%m-%d'</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\">#df[\"Buy Date\"] = df[\"Buy Date\"]</span>\n<span class=\"token comment\"># Add to audible</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"Bookshelves\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> <span class=\"token string\">\"audible\"</span>\n<span class=\"token comment\"># Map the Date Read to the Buy Date as a loose proxy</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"Date Read\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Buy Date\"</span><span class=\"token punctuation\">]</span> <span class=\"token keyword\">if</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Time Left\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">30</span> <span class=\"token keyword\">else</span> <span class=\"token boolean\">None</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># This doesn't actually register, but the export that Goodreads provides is Exclusive Shelf for the read status</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"Exclusive Shelf\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> <span class=\"token string\">\"read\"</span> <span class=\"token keyword\">if</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Time Left\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">30</span> <span class=\"token keyword\">else</span> <span class=\"token string\">\"currently-reading\"</span> <span class=\"token keyword\">if</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Time Left\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Minutes\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">.8</span> <span class=\"token keyword\">else</span> <span class=\"token string\">\"to-read\"</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># So I fix it by just appending the status to Bookshelves depending on read status. i.e. if less than 30min left, it's read. If you've listened to more than 20% of it, it's Currently Reading</span>\ndf<span class=\"token punctuation\">[</span><span class=\"token string\">\"Bookshelves\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">=</span> df<span class=\"token punctuation\">.</span><span class=\"token builtin\">apply</span><span class=\"token punctuation\">(</span><span class=\"token keyword\">lambda</span> x<span class=\"token punctuation\">:</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Bookshelves\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"read\"</span> <span class=\"token keyword\">if</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Time Left\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">30</span> <span class=\"token keyword\">else</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Bookshelves\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"currently-reading\"</span> <span class=\"token keyword\">if</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Time Left\"</span><span class=\"token punctuation\">]</span><span class=\"token operator\">/</span>x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Minutes\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">&lt;</span> <span class=\"token number\">.8</span> <span class=\"token keyword\">else</span> x<span class=\"token punctuation\">[</span><span class=\"token string\">\"Bookshelves\"</span><span class=\"token punctuation\">]</span> <span class=\"token operator\">+</span> <span class=\"token string\">\" \"</span> <span class=\"token operator\">+</span> <span class=\"token string\">\"to-read\"</span><span class=\"token punctuation\">,</span> axis<span class=\"token operator\">=</span><span class=\"token number\">1</span><span class=\"token punctuation\">)</span>\n<span class=\"token comment\"># Rename Buy Date to Date Added</span>\ndf<span class=\"token punctuation\">.</span>rename<span class=\"token punctuation\">(</span>columns<span class=\"token operator\">=</span><span class=\"token punctuation\">{</span><span class=\"token string\">\"Buy Date\"</span> <span class=\"token punctuation\">:</span> <span class=\"token string\">\"Date Added\"</span><span class=\"token punctuation\">}</span><span class=\"token punctuation\">,</span>inplace <span class=\"token operator\">=</span> <span class=\"token boolean\">True</span><span class=\"token punctuation\">)</span>\n\ndf<span class=\"token punctuation\">.</span>to_csv<span class=\"token punctuation\">(</span><span class=\"token string\">r'/path/to/export/audible-goodreads-import.csv'</span><span class=\"token punctuation\">)</span>\n<span class=\"token keyword\">print</span> <span class=\"token punctuation\">(</span><span class=\"token string\">\"Done\"</span><span class=\"token punctuation\">)</span></code></pre></div>\n<p>Before running the script, you’ll want to change two things. Open then python script and change line 17: <code class=\"language-text\">df = pd.read_excel(r’/path/to/the/saved/excel.xlsx’)</code> to the path to your file and line 35: <code class=\"language-text\">df.to_csv(r’/path/to/export/audible-goodreads-import.csv’)</code> to your export CSV format.</p>\n<p>Then simply run <code class=\"language-text\">py audible-goodreads-import.py</code> in terminal, and you should get a file output with the CSV.</p>\n<p>From there, simply <a href=\"https://www.goodreads.com/review/import\">go to your goodread account’s import page</a> and follow the import instructions.</p>\n<p>It will import and update current read status, ratings, correct ISBN, and add it to an “audible” bookshelf.</p>\n<h2>Next steps</h2>\n<p>Hopefully this serves to compliment other solutions out there, or as a starting point for someone who wants to put together a better solution for non-technical folk.</p>\n<p>If you encounter bugs or improve the script somehow, please leave a comment below or in the <a href=\"https://gist.github.com/readywater/b71c11428a151654474cdb673756319e\">GitHub gist</a>. If this works out for folk, I might put together something a bit more automated and a bit more user friendly eventually, but for a quick script thrown together while watching <a href=\"https://www.netflix.com/dk-en/title/81026300\">Next in Fashion</a>, this works nicely.</p>","fields":{"slug":"/audible_to_goodreads/","readingTime":{"minutes":3.265,"words":653}},"frontmatter":{"title":"Import your Audible Library to Goodreads","date":"February 07, 2020","description":"I read a lot and I listen to a lot. Consuming an audio book isn’t the same as reading one, but I wanted to get an overview of it anyway. This is how I imported my audible library to Goodreads.","tags":["code","reading","audible","organizing"],"category":"short"}}},"pageContext":{"isCreatedByStatefulCreatePages":false,"slug":"/audible_to_goodreads/","previous":{"id":"97aab76b-9a5b-55a0-b055-315e8879db04","fields":{"slug":"/decay/"},"frontmatter":{"title":"Decay of Digital Things","category":"archive","tags":["code","reading","decay","archive"]}},"next":{"id":"ec5b6c0d-f634-5950-953f-a566a27f72e1","fields":{"slug":"/failing_states/"},"frontmatter":{"title":"Failing States Fail Terrorists Too","category":"security","tags":["security","essay","terrorism","failed-states"]}}}}}